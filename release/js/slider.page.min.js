/*! |ric w| 26-03-2015 */
!function(a){var b="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",c="ontouchstart"in a,d="onorientationchange"in a?"orientationchange":"resize",e=c?"touchstart":"mousedown",f=c?"touchmove":"mousemove",g=c?"touchend":"mouseup",h=function(){var a=this,h="p_",i=0,j=null;a.event={RESIZE_EVENT:d,START_EVENT:e,MOVE_EVENT:f,END_EVENT:g},a.down=!1,a.startEvent=function(b){a.down=!0;var d,e=null,f=null,h=c?b.changedTouches[0]:b;e=h.pageY,document.addEventListener(g,d=function(b){var h=c?b.changedTouches[0]:b;if(f=h.pageY,a.down){var i=f-e>40?"top":-40>f-e?"bottom":null;"top"==i?a.pre("top"):"bottom"==i&&a.next("bottom")}a.down=!1,document.removeEventListener(g,d,!1)},!1)},a["switch"]=function(c,d){if(c&&c!=j){if(j){var f=$("#"+h+j),g="slideAnimated ",i=d+"-out",k=f.attr(i);g+=k,f.css("z-index",1),f.show().addClass(g).one(b,function(){f.css("z-index",1),f[0].removeEventListener(e,a.startEvent,!1),setTimeout(function(){f.removeClass(g),f.hide()},250)})}j=c;var l=$("#"+h+c),m=l.find(".animate-dom"),n="slideAnimated ",i=d+"-in",o=l.attr(i);n+=o,m.each(function(){$(this).hide()}),l.css("z-index",999),l.show().addClass(n).one(b,function(){var c=n;l.removeClass(c),l[0].addEventListener(e,a.startEvent,!1),m.each(function(){var a=$(this),c="animated ",d=a.attr("in");c+=d;var e=a.attr("delay");e=Number(e);var f=function(){a.show().addClass(c).one(b,function(){a.removeClass(c)})};e?setTimeout(f,e):f()})})}},a.pre=function(b){var c=j-1==0?i:j-1;a["switch"](c,b)},a.next=function(b){var c=j+1>i?1:j+1;a["switch"](c,b)},a.playing=!1,a.play=function(b){a.audioContr||k.initAudio(),b?(a.audioContr.src=b,a.audioContr.play()):a.audioContr.play(),a.playing=!0,$("#music-box>i").addClass("music-icon-cir")},a.pause=function(){a.playing=!1,a.audioContr&&a.audioContr.pause(),$("#music-box>i").removeClass("music-icon-cir")};var k={init:function(){i=$(".slider-page-host>li").length,this.initAudio(),this.show()},show:function(){j=1;var c=$("#"+h+"1"),d=c.find(".animate-dom");c.css("display","block"),d.each(function(){$(this).hide()}),c[0].addEventListener(e,a.startEvent,!1),d.each(function(){var a=$(this),c="animated ",d=a.attr("in");c+=d;var e=a.attr("delay");e=Number(e);var f=function(){a.show().addClass(c).one(b,function(){a.removeClass(c)})};e?setTimeout(f,e):f()})},initAudio:function(){a.audioContr=$("#audioControl")[0],$("#music-box")[0].addEventListener(e,function(){a.playing?a.pause():a.play()},!1)}};k.init()};a.SliderPage=h}(window);